{"ast":null,"code":"'use client';\n\nimport { useState, useRef, useCallback, useEffect } from 'react';\nimport { useFloating, shift, getOverflowAncestors } from '@floating-ui/react';\nfunction useFloatingTooltip({\n  offset,\n  position\n}) {\n  const [opened, setOpened] = useState(false);\n  const boundaryRef = useRef();\n  const {\n    x,\n    y,\n    elements,\n    refs,\n    update,\n    placement\n  } = useFloating({\n    placement: position,\n    middleware: [shift({\n      crossAxis: true,\n      padding: 5,\n      rootBoundary: \"document\"\n    })]\n  });\n  const horizontalOffset = placement.includes(\"right\") ? offset : position.includes(\"left\") ? offset * -1 : 0;\n  const verticalOffset = placement.includes(\"bottom\") ? offset : position.includes(\"top\") ? offset * -1 : 0;\n  const handleMouseMove = useCallback(({\n    clientX,\n    clientY\n  }) => {\n    refs.setPositionReference({\n      getBoundingClientRect() {\n        return {\n          width: 0,\n          height: 0,\n          x: clientX,\n          y: clientY,\n          left: clientX + horizontalOffset,\n          top: clientY + verticalOffset,\n          right: clientX,\n          bottom: clientY\n        };\n      }\n    });\n  }, [elements.reference]);\n  useEffect(() => {\n    if (refs.floating.current) {\n      const boundary = boundaryRef.current;\n      boundary.addEventListener(\"mousemove\", handleMouseMove);\n      const parents = getOverflowAncestors(refs.floating.current);\n      parents.forEach(parent => {\n        parent.addEventListener(\"scroll\", update);\n      });\n      return () => {\n        boundary.removeEventListener(\"mousemove\", handleMouseMove);\n        parents.forEach(parent => {\n          parent.removeEventListener(\"scroll\", update);\n        });\n      };\n    }\n    return void 0;\n  }, [elements.reference, refs.floating.current, update, handleMouseMove, opened]);\n  return {\n    handleMouseMove,\n    x,\n    y,\n    opened,\n    setOpened,\n    boundaryRef,\n    floating: refs.setFloating\n  };\n}\nexport { useFloatingTooltip };","map":{"version":3,"names":["useFloatingTooltip","offset","position","opened","setOpened","useState","boundaryRef","useRef","x","y","elements","refs","update","placement","useFloating","middleware","shift","crossAxis","padding","rootBoundary","horizontalOffset","includes","verticalOffset","handleMouseMove","useCallback","clientX","clientY","setPositionReference","getBoundingClientRect","width","height","left","top","right","bottom","reference","useEffect","floating","current","boundary","addEventListener","parents","getOverflowAncestors","forEach","parent","removeEventListener","setFloating"],"sources":["/Users/virounikamina/pompom/node_modules/@mantine/core/src/components/Tooltip/TooltipFloating/use-floating-tooltip.ts"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport { getOverflowAncestors, shift, useFloating } from '@floating-ui/react';\nimport { FloatingPosition } from '../../Floating';\n\ninterface UseFloatingTooltip {\n  offset: number;\n  position: FloatingPosition;\n}\n\nexport function useFloatingTooltip<T extends HTMLElement = any>({\n  offset,\n  position,\n}: UseFloatingTooltip) {\n  const [opened, setOpened] = useState(false);\n  const boundaryRef = useRef<T>();\n  const { x, y, elements, refs, update, placement } = useFloating({\n    placement: position,\n    middleware: [\n      shift({\n        crossAxis: true,\n        padding: 5,\n        rootBoundary: 'document',\n      }),\n    ],\n  });\n\n  const horizontalOffset = placement.includes('right')\n    ? offset\n    : position.includes('left')\n      ? offset * -1\n      : 0;\n\n  const verticalOffset = placement.includes('bottom')\n    ? offset\n    : position.includes('top')\n      ? offset * -1\n      : 0;\n\n  const handleMouseMove = useCallback(\n    ({ clientX, clientY }: MouseEvent | React.MouseEvent<T, MouseEvent>) => {\n      refs.setPositionReference({\n        getBoundingClientRect() {\n          return {\n            width: 0,\n            height: 0,\n            x: clientX,\n            y: clientY,\n            left: clientX + horizontalOffset,\n            top: clientY + verticalOffset,\n            right: clientX,\n            bottom: clientY,\n          };\n        },\n      });\n    },\n    [elements.reference]\n  );\n\n  useEffect(() => {\n    if (refs.floating.current) {\n      const boundary = boundaryRef.current!;\n      boundary.addEventListener('mousemove', handleMouseMove);\n\n      const parents = getOverflowAncestors(refs.floating.current);\n      parents.forEach((parent) => {\n        parent.addEventListener('scroll', update);\n      });\n\n      return () => {\n        boundary.removeEventListener('mousemove', handleMouseMove);\n        parents.forEach((parent) => {\n          parent.removeEventListener('scroll', update);\n        });\n      };\n    }\n\n    return undefined;\n  }, [elements.reference, refs.floating.current, update, handleMouseMove, opened]);\n\n  return { handleMouseMove, x, y, opened, setOpened, boundaryRef, floating: refs.setFloating };\n}\n"],"mappings":";;;;AAGO,SAASA,kBAAkBA,CAAC;EACjCC,MAAM;EACNC;AACF,CAAC,EAAE;EACD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGC,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAMC,WAAW,GAAGC,MAAM,EAAE;EAC5B,MAAM;IAAEC,CAAC;IAAEC,CAAC;IAAEC,QAAQ;IAAEC,IAAI;IAAEC,MAAM;IAAEC;EAAW,IAAGC,WAAW,CAAC;IAC9DD,SAAS,EAAEX,QAAQ;IACnBa,UAAU,EAAE,CACVC,KAAK,CAAC;MACJC,SAAS,EAAE,IAAI;MACfC,OAAO,EAAE,CAAC;MACVC,YAAY,EAAE;IACtB,CAAO,CAAC;EAER,CAAG,CAAC;EACF,MAAMC,gBAAgB,GAAGP,SAAS,CAACQ,QAAQ,CAAC,OAAO,CAAC,GAAGpB,MAAM,GAAGC,QAAQ,CAACmB,QAAQ,CAAC,MAAM,CAAC,GAAGpB,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC;EAC3G,MAAMqB,cAAc,GAAGT,SAAS,CAACQ,QAAQ,CAAC,QAAQ,CAAC,GAAGpB,MAAM,GAAGC,QAAQ,CAACmB,QAAQ,CAAC,KAAK,CAAC,GAAGpB,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC;EACzG,MAAMsB,eAAe,GAAGC,WAAW,CACjC,CAAC;IAAEC,OAAO;IAAEC;EAAO,CAAE,KAAK;IACxBf,IAAI,CAACgB,oBAAoB,CAAC;MACxBC,qBAAqBA,CAAA,EAAG;QACtB,OAAO;UACLC,KAAK,EAAE,CAAC;UACRC,MAAM,EAAE,CAAC;UACTtB,CAAC,EAAEiB,OAAO;UACVhB,CAAC,EAAEiB,OAAO;UACVK,IAAI,EAAEN,OAAO,GAAGL,gBAAgB;UAChCY,GAAG,EAAEN,OAAO,GAAGJ,cAAc;UAC7BW,KAAK,EAAER,OAAO;UACdS,MAAM,EAAER;QACpB,CAAW;MACF;IACT,CAAO,CAAC;EACH,GACD,CAAChB,QAAQ,CAACyB,SAAS,CACvB,CAAG;EACDC,SAAS,CAAC,MAAM;IACd,IAAIzB,IAAI,CAAC0B,QAAQ,CAACC,OAAO,EAAE;MACzB,MAAMC,QAAQ,GAAGjC,WAAW,CAACgC,OAAO;MACpCC,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEjB,eAAe,CAAC;MACvD,MAAMkB,OAAO,GAAGC,oBAAoB,CAAC/B,IAAI,CAAC0B,QAAQ,CAACC,OAAO,CAAC;MAC3DG,OAAO,CAACE,OAAO,CAAEC,MAAM,IAAK;QAC1BA,MAAM,CAACJ,gBAAgB,CAAC,QAAQ,EAAE5B,MAAM,CAAC;MACjD,CAAO,CAAC;MACF,OAAO,MAAM;QACX2B,QAAQ,CAACM,mBAAmB,CAAC,WAAW,EAAEtB,eAAe,CAAC;QAC1DkB,OAAO,CAACE,OAAO,CAAEC,MAAM,IAAK;UAC1BA,MAAM,CAACC,mBAAmB,CAAC,QAAQ,EAAEjC,MAAM,CAAC;QACtD,CAAS,CAAC;MACV,CAAO;IACF;IACD,OAAO,KAAK,CAAC;EACjB,CAAG,EAAE,CAACF,QAAQ,CAACyB,SAAS,EAAExB,IAAI,CAAC0B,QAAQ,CAACC,OAAO,EAAE1B,MAAM,EAAEW,eAAe,EAAEpB,MAAM,CAAC,CAAC;EAChF,OAAO;IAAEoB,eAAe;IAAEf,CAAC;IAAEC,CAAC;IAAEN,MAAM;IAAEC,SAAS;IAAEE,WAAW;IAAE+B,QAAQ,EAAE1B,IAAI,CAACmC;EAAW,CAAE;AAC9F"},"metadata":{},"sourceType":"module","externalDependencies":[]}