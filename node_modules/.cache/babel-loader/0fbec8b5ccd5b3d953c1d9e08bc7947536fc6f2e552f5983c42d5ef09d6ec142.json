{"ast":null,"code":"'use client';\n\nimport { useRef, useState, useCallback, useEffect } from 'react';\nimport { useIsomorphicEffect } from '@mantine/hooks';\nfunction setColorSchemeAttribute(colorScheme, getRootElement) {\n  const computedColorScheme = colorScheme !== \"auto\" ? colorScheme : window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n  getRootElement()?.setAttribute(\"data-mantine-color-scheme\", computedColorScheme);\n}\nfunction useProviderColorScheme({\n  manager,\n  defaultColorScheme,\n  getRootElement,\n  forceColorScheme\n}) {\n  const media = useRef();\n  const [value, setValue] = useState(() => manager.get(defaultColorScheme));\n  const colorSchemeValue = forceColorScheme || value;\n  const setColorScheme = useCallback(colorScheme => {\n    if (!forceColorScheme) {\n      setColorSchemeAttribute(colorScheme, getRootElement);\n      setValue(colorScheme);\n      manager.set(colorScheme);\n    }\n  }, [manager.set, colorSchemeValue, forceColorScheme]);\n  const clearColorScheme = useCallback(() => {\n    setValue(defaultColorScheme);\n    setColorSchemeAttribute(defaultColorScheme, getRootElement);\n    manager.clear();\n  }, [manager.clear, defaultColorScheme]);\n  useEffect(() => {\n    manager.subscribe(setColorScheme);\n    return manager.unsubscribe;\n  }, [manager.subscribe, manager.unsubscribe]);\n  useIsomorphicEffect(() => {\n    setColorSchemeAttribute(manager.get(defaultColorScheme), getRootElement);\n  }, []);\n  useEffect(() => {\n    if (forceColorScheme) {\n      setColorSchemeAttribute(forceColorScheme, getRootElement);\n      return () => {};\n    }\n    if (forceColorScheme === void 0) {\n      setColorSchemeAttribute(value, getRootElement);\n    }\n    media.current = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    const listener = event => {\n      if (value === \"auto\") {\n        setColorSchemeAttribute(event.matches ? \"dark\" : \"light\", getRootElement);\n      }\n    };\n    media.current?.addEventListener(\"change\", listener);\n    return () => media.current?.removeEventListener(\"change\", listener);\n  }, [value, forceColorScheme]);\n  return {\n    colorScheme: colorSchemeValue,\n    setColorScheme,\n    clearColorScheme\n  };\n}\nexport { useProviderColorScheme };","map":{"version":3,"names":["setColorSchemeAttribute","colorScheme","getRootElement","computedColorScheme","window","matchMedia","matches","setAttribute","useProviderColorScheme","manager","defaultColorScheme","forceColorScheme","media","useRef","value","setValue","useState","get","colorSchemeValue","setColorScheme","useCallback","set","clearColorScheme","clear","useEffect","subscribe","unsubscribe","useIsomorphicEffect","current","listener","event","addEventListener","removeEventListener"],"sources":["/Users/virounikamina/pompom/node_modules/@mantine/core/src/core/MantineProvider/use-mantine-color-scheme/use-provider-color-scheme.ts"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useIsomorphicEffect } from '@mantine/hooks';\nimport type { MantineColorSchemeManager } from '../color-scheme-managers';\nimport type { MantineColorScheme } from '../theme.types';\n\nfunction setColorSchemeAttribute(\n  colorScheme: MantineColorScheme,\n  getRootElement: () => HTMLElement | undefined\n) {\n  const computedColorScheme =\n    colorScheme !== 'auto'\n      ? colorScheme\n      : window.matchMedia('(prefers-color-scheme: dark)').matches\n        ? 'dark'\n        : 'light';\n  getRootElement()?.setAttribute('data-mantine-color-scheme', computedColorScheme);\n}\n\ntype MediaQueryCallback = (event: { matches: boolean; media: string }) => void;\n\ninterface UseProviderColorSchemeOptions {\n  manager: MantineColorSchemeManager;\n  defaultColorScheme: MantineColorScheme;\n  forceColorScheme: 'light' | 'dark' | undefined;\n  getRootElement: () => HTMLElement | undefined;\n}\n\nexport function useProviderColorScheme({\n  manager,\n  defaultColorScheme,\n  getRootElement,\n  forceColorScheme,\n}: UseProviderColorSchemeOptions) {\n  const media = useRef<MediaQueryList>();\n  const [value, setValue] = useState(() => manager.get(defaultColorScheme));\n  const colorSchemeValue = forceColorScheme || value;\n\n  const setColorScheme = useCallback(\n    (colorScheme: MantineColorScheme) => {\n      if (!forceColorScheme) {\n        setColorSchemeAttribute(colorScheme, getRootElement);\n        setValue(colorScheme);\n        manager.set(colorScheme);\n      }\n    },\n    [manager.set, colorSchemeValue, forceColorScheme]\n  );\n\n  const clearColorScheme = useCallback(() => {\n    setValue(defaultColorScheme);\n    setColorSchemeAttribute(defaultColorScheme, getRootElement);\n    manager.clear();\n  }, [manager.clear, defaultColorScheme]);\n\n  useEffect(() => {\n    manager.subscribe(setColorScheme);\n    return manager.unsubscribe;\n  }, [manager.subscribe, manager.unsubscribe]);\n\n  useIsomorphicEffect(() => {\n    setColorSchemeAttribute(manager.get(defaultColorScheme), getRootElement);\n  }, []);\n\n  useEffect(() => {\n    if (forceColorScheme) {\n      setColorSchemeAttribute(forceColorScheme, getRootElement);\n      return () => {};\n    }\n\n    if (forceColorScheme === undefined) {\n      setColorSchemeAttribute(value, getRootElement);\n    }\n\n    media.current = window.matchMedia('(prefers-color-scheme: dark)');\n    const listener: MediaQueryCallback = (event) => {\n      if (value === 'auto') {\n        setColorSchemeAttribute(event.matches ? 'dark' : 'light', getRootElement);\n      }\n    };\n\n    media.current?.addEventListener('change', listener);\n    return () => media.current?.removeEventListener('change', listener);\n  }, [value, forceColorScheme]);\n\n  return { colorScheme: colorSchemeValue, setColorScheme, clearColorScheme };\n}\n"],"mappings":";;;;AAGA,SAASA,uBAAuBA,CAACC,WAAW,EAAEC,cAAc,EAAE;EAC5D,MAAMC,mBAAmB,GAAGF,WAAW,KAAK,MAAM,GAAGA,WAAW,GAAGG,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,GAAG,MAAM,GAAG,OAAO;EAC/IJ,cAAc,EAAE,EAAEK,YAAY,CAAC,2BAA2B,EAAEJ,mBAAmB,CAAC;AAClF;AACO,SAASK,sBAAsBA,CAAC;EACrCC,OAAO;EACPC,kBAAkB;EAClBR,cAAc;EACdS;AACF,CAAC,EAAE;EACD,MAAMC,KAAK,GAAGC,MAAM,EAAE;EACtB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGC,QAAQ,CAAC,MAAMP,OAAO,CAACQ,GAAG,CAACP,kBAAkB,CAAC,CAAC;EACzE,MAAMQ,gBAAgB,GAAGP,gBAAgB,IAAIG,KAAK;EAClD,MAAMK,cAAc,GAAGC,WAAW,CAC/BnB,WAAW,IAAK;IACf,IAAI,CAACU,gBAAgB,EAAE;MACrBX,uBAAuB,CAACC,WAAW,EAAEC,cAAc,CAAC;MACpDa,QAAQ,CAACd,WAAW,CAAC;MACrBQ,OAAO,CAACY,GAAG,CAACpB,WAAW,CAAC;IACzB;EACF,GACD,CAACQ,OAAO,CAACY,GAAG,EAAEH,gBAAgB,EAAEP,gBAAgB,CACpD,CAAG;EACD,MAAMW,gBAAgB,GAAGF,WAAW,CAAC,MAAM;IACzCL,QAAQ,CAACL,kBAAkB,CAAC;IAC5BV,uBAAuB,CAACU,kBAAkB,EAAER,cAAc,CAAC;IAC3DO,OAAO,CAACc,KAAK,EAAE;EAChB,GAAE,CAACd,OAAO,CAACc,KAAK,EAAEb,kBAAkB,CAAC,CAAC;EACvCc,SAAS,CAAC,MAAM;IACdf,OAAO,CAACgB,SAAS,CAACN,cAAc,CAAC;IACjC,OAAOV,OAAO,CAACiB,WAAW;EAC3B,GAAE,CAACjB,OAAO,CAACgB,SAAS,EAAEhB,OAAO,CAACiB,WAAW,CAAC,CAAC;EAC5CC,mBAAmB,CAAC,MAAM;IACxB3B,uBAAuB,CAACS,OAAO,CAACQ,GAAG,CAACP,kBAAkB,CAAC,EAAER,cAAc,CAAC;EACzE,GAAE,EAAE,CAAC;EACNsB,SAAS,CAAC,MAAM;IACd,IAAIb,gBAAgB,EAAE;MACpBX,uBAAuB,CAACW,gBAAgB,EAAET,cAAc,CAAC;MACzD,OAAO,MAAM,CACnB,CAAO;IACF;IACD,IAAIS,gBAAgB,KAAK,KAAK,CAAC,EAAE;MAC/BX,uBAAuB,CAACc,KAAK,EAAEZ,cAAc,CAAC;IAC/C;IACDU,KAAK,CAACgB,OAAO,GAAGxB,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC;IACjE,MAAMwB,QAAQ,GAAIC,KAAK,IAAK;MAC1B,IAAIhB,KAAK,KAAK,MAAM,EAAE;QACpBd,uBAAuB,CAAC8B,KAAK,CAACxB,OAAO,GAAG,MAAM,GAAG,OAAO,EAAEJ,cAAc,CAAC;MAC1E;IACP,CAAK;IACDU,KAAK,CAACgB,OAAO,EAAEG,gBAAgB,CAAC,QAAQ,EAAEF,QAAQ,CAAC;IACnD,OAAO,MAAMjB,KAAK,CAACgB,OAAO,EAAEI,mBAAmB,CAAC,QAAQ,EAAEH,QAAQ,CAAC;EACvE,CAAG,EAAE,CAACf,KAAK,EAAEH,gBAAgB,CAAC,CAAC;EAC7B,OAAO;IAAEV,WAAW,EAAEiB,gBAAgB;IAAEC,cAAc;IAAEG;EAAgB,CAAE;AAC5E"},"metadata":{},"sourceType":"module","externalDependencies":[]}