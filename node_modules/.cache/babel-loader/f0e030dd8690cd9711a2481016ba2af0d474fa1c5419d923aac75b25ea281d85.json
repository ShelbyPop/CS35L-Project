{"ast":null,"code":"'use client';\n\nimport { findTabbableDescendants } from './tabbable.mjs';\nfunction scopeTab(node, event) {\n  const tabbable = findTabbableDescendants(node);\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  }\n  const finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  const root = node.getRootNode();\n  let leavingFinalTabbable = finalTabbable === root.activeElement || node === root.activeElement;\n  const activeElement = root.activeElement;\n  const activeElementIsRadio = activeElement.tagName === \"INPUT\" && activeElement.getAttribute(\"type\") === \"radio\";\n  if (activeElementIsRadio) {\n    const activeRadioGroup = tabbable.filter(element => element.getAttribute(\"type\") === \"radio\" && element.getAttribute(\"name\") === activeElement.getAttribute(\"name\"));\n    leavingFinalTabbable = activeRadioGroup.includes(finalTabbable);\n  }\n  if (!leavingFinalTabbable) {\n    return;\n  }\n  event.preventDefault();\n  const target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n  if (target) {\n    target.focus();\n  }\n}\nexport { scopeTab };","map":{"version":3,"names":["scopeTab","node","event","tabbable","findTabbableDescendants","length","preventDefault","finalTabbable","shiftKey","root","getRootNode","leavingFinalTabbable","activeElement","activeElementIsRadio","tagName","getAttribute","activeRadioGroup","filter","element","includes","target","focus"],"sources":["/Users/virounikamina/pompom/node_modules/@mantine/hooks/src/use-focus-trap/scope-tab.ts"],"sourcesContent":["import { findTabbableDescendants } from './tabbable';\n\nexport function scopeTab(node: HTMLElement, event: KeyboardEvent) {\n  const tabbable = findTabbableDescendants(node);\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  }\n  const finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  const root = node.getRootNode() as unknown as DocumentOrShadowRoot;\n  let leavingFinalTabbable = finalTabbable === root.activeElement || node === root.activeElement;\n\n  const activeElement = root.activeElement as Element;\n  const activeElementIsRadio =\n    activeElement.tagName === 'INPUT' && activeElement.getAttribute('type') === 'radio';\n  if (activeElementIsRadio) {\n    const activeRadioGroup = tabbable.filter(\n      (element) =>\n        element.getAttribute('type') === 'radio' &&\n        element.getAttribute('name') === activeElement.getAttribute('name')\n    );\n    leavingFinalTabbable = activeRadioGroup.includes(finalTabbable);\n  }\n\n  if (!leavingFinalTabbable) {\n    return;\n  }\n\n  event.preventDefault();\n\n  const target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n\n  if (target) {\n    target.focus();\n  }\n}\n"],"mappings":";;;AAEO,SAASA,QAAQA,CAACC,IAAI,EAAEC,KAAK,EAAE;EACpC,MAAMC,QAAQ,GAAGC,uBAAuB,CAACH,IAAI,CAAC;EAC9C,IAAI,CAACE,QAAQ,CAACE,MAAM,EAAE;IACpBH,KAAK,CAACI,cAAc,EAAE;IACtB;EACD;EACD,MAAMC,aAAa,GAAGJ,QAAQ,CAACD,KAAK,CAACM,QAAQ,GAAG,CAAC,GAAGL,QAAQ,CAACE,MAAM,GAAG,CAAC,CAAC;EACxE,MAAMI,IAAI,GAAGR,IAAI,CAACS,WAAW,EAAE;EAC/B,IAAIC,oBAAoB,GAAGJ,aAAa,KAAKE,IAAI,CAACG,aAAa,IAAIX,IAAI,KAAKQ,IAAI,CAACG,aAAa;EAC9F,MAAMA,aAAa,GAAGH,IAAI,CAACG,aAAa;EACxC,MAAMC,oBAAoB,GAAGD,aAAa,CAACE,OAAO,KAAK,OAAO,IAAIF,aAAa,CAACG,YAAY,CAAC,MAAM,CAAC,KAAK,OAAO;EAChH,IAAIF,oBAAoB,EAAE;IACxB,MAAMG,gBAAgB,GAAGb,QAAQ,CAACc,MAAM,CACrCC,OAAO,IAAKA,OAAO,CAACH,YAAY,CAAC,MAAM,CAAC,KAAK,OAAO,IAAIG,OAAO,CAACH,YAAY,CAAC,MAAM,CAAC,KAAKH,aAAa,CAACG,YAAY,CAAC,MAAM,CACjI,CAAK;IACDJ,oBAAoB,GAAGK,gBAAgB,CAACG,QAAQ,CAACZ,aAAa,CAAC;EAChE;EACD,IAAI,CAACI,oBAAoB,EAAE;IACzB;EACD;EACDT,KAAK,CAACI,cAAc,EAAE;EACtB,MAAMc,MAAM,GAAGjB,QAAQ,CAACD,KAAK,CAACM,QAAQ,GAAGL,QAAQ,CAACE,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;EACjE,IAAIe,MAAM,EAAE;IACVA,MAAM,CAACC,KAAK,EAAE;EACf;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}